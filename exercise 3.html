<!DOCTYPE html>
<html lang="en">
<head>
   <meta charset="UTF-8">
   <meta Name="viewport" content="width=device-width, initial-scale=1.0">
   <meta http-equiv="X-UA-Compatible" content="ie=edge">

   <!-- external css -->
   <link rel="stylesheet" href="exercise 3.css">

   <title>Swapi Table</title>

</head>
       
<body>
      <div class="container">
         <h1 style= "text-align: center">Tugas membuat table dengan JS</h1>
            <h2>Swapi Table</h2>
            <input type="text" id="myInput" onkeyup="myFunction()" placeholder="Apa yang kamu cari?" title="Type in a Name">
      </div>

      <div id="myTable"></div>
      
      <script> 
      //Data JS
         var dataTable = [
            {
                  Name : "Alderaan", 
                  Rotation_Period : "24", 
                  Orbital_Period : "364", 
                  Diameter : "12500", 
                  Climate : "temperate", 
                  Gravity : "1 standard",
                  Terrain : "grasslands , mountains",
                  Surface_Water : "40", 
                  Population: "2000000000", 
            },
            { 
                  Name: "Yavin IV", 
                  Rotation_Period:"24", 
                  Orbital_Period:"4818", 
                  Diameter: "10200", 
                  Climate: "temperate, tropical", 
                  Gravity: "1 standard", 
                  Terrain: "jungle, rainforests", 
                  Surface_Water: "8", 
                  Population: "1000", 
            },  
            {
                  Name : "Hoth", 
                  Rotation_Period: "23", 
                  Orbital_Period : "549", 
                  Diameter :"7200" , 
                  Climate : "frozen", 
                  Gravity : "1.1 standard", 
                  Terrain :"tundra, ice caves, mountain ranges", 
                  Surface_Water : "100", 
                  Population : "unknown", 
            },
            {
                    Name : "Dagobah", 
                    Rotation_Period : "23", 
                    Orbital_Period: "341", 
                    Diameter: "8900", 
                    Climate : "murky", 
                    Gravity : "N/A", 
                    Terrain : "swamp, jungles", 
                    Surface_Water: "8", 
                    Population: "unknown", 
            },
            {
                    Name: "Bespin", 
                    Rotation_Period:"12", 
                    Orbital_Period: "5110", 
                    Diameter: "118000", 
                    Climate: "temperate", 
                    Gravity: "1.5 (surface), 1 standard (Cloud City)", 
                    Terrain: "gas giant", 
                    Surface_Water: "0", 
                    Population: "6000000",
            }, 
            {
                    Name : "Endor", 
                    Rotation_Period : "18", 
                    Orbital_Period: "402", 
                    Diameter : "4900", 
                    Climate: "temperate", 
                    Gravity: "0.85 standard", 
                    Terrain: "forests, mountains, lakes", 
                    Surface_Water: "8", 
                    Population: "30000000", 
            }, 
            {
                    Name: "Naboo", 
                    Rotation_Period :"26", 
                    Orbital_Period: "312", 
                    Diameter: "12120", 
                    Climate: "temperate", 
                    Gravity: "1 standard", 
                    Terrain: "grassy hills, swamps, forests, mountains", 
                    Surface_Water: "12", 
                    Population: "4500000000", 
            },
            {
                    Name: "Coruscant", 
                    Rotation_Period: "24", 
                    Orbital_Period:"368", 
                    Diameter: "12240", 
                    Climate: "temperate", 
                    Gravity: "1 standard", 
                    Terrain: "cityscape, mountains", 
                    Surface_Water: "unknown", 
                    Population: "1000000000000", 
            }, 
            {
                    Name: "Kamino", 
                    Rotation_Period: "27", 
                    Orbital_Period:"463", 
                    Diameter: "19720", 
                    Climate: "temperate", 
                    Gravity: "1 standard", 
                    Terrain: "ocean", 
                    Surface_Water: "100", 
                    Population:" 1000000000", 
            },
            {
                    Name: "Geonosis", 
                    Rotation_Period: "30", 
                    Orbital_Period: "256", 
                    Diameter: "11370", 
                    Climate: "temperate, arid", 
                    Gravity: "0.9 standard", 
                    Terrain: "rock, desert, mountain, barren", 
                    Surface_Water: "5", 
                    Population: "100000000000",   
            }
         ]
            

         //buat table
         var col = [];
            for (var i = 0; i < dataTable.length; i++) {
                for (var key in dataTable[i]) {
                    if (col.indexOf(key) === -1) {
                        col.push(key);
                    }
                }
            }
           
         var table = document.createElement("table");
            
         var tr = table.insertRow(-1);                   
            for (var i = 0; i < col.length; i++) {
                var th = document.createElement("th");      
                th.innerHTML = col[i];
                tr.appendChild(th);
            }
            
            for (var i = 0; i < dataTable.length; i++) {
                tr = table.insertRow(-1);
                for (var j = 0; j < col.length; j++) {
                    var tabCell = tr.insertCell(-1);
                    tabCell.innerHTML = dataTable[i][col[j]];
                }
            }
           
         var divContainer = document.getElementById("myTable");
             divContainer.innerHTML = "";
             divContainer.appendChild(table);

            //fungsi cari
         function myFunction() {
            var input, filter, table, tr, td, i, txtValue;
               input = document.getElementById("myInput");
               filter = input.value.toUpperCase();
               table = document.getElementById("myTable");
               tr = table.getElementsByTagName("tr");
            
            for (i = 0; i < tr.length; i++) {
               td = tr[i].getElementsByTagName("td")[0];
               if (td) {
                  txtValue = td.textContent || td.innerText;
                  if (txtValue.toUpperCase().indexOf(filter) > -1) {
                     tr[i].style.display = "";
                  } 
                  else {
                     tr[i].style.display = "none";
                  }
               }       
            }
         }
      </script>

</body>
</html>